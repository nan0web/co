# @nan0web/co

Η επικοινωνία ξεκινά εδώ με ένα απλό Μήνυμα.

## Διεθνής Τεκμηρίωση

Διαθέσιμες μεταφράσεις:
- [English](../README.md)
- [Українська](./README.uk.md)

## Περιγραφή

Το πακέτο `@nan0web/co` παρέχει ένα ελάχιστο αλλά ισχυρό θεμέλιο για συστήματα επικοινωνίας με βάση τα μηνύματα και για τη διαχείριση επαφών.  
Βασικές κλάσεις:

- `Message` — μια βασική κλάση για την αναπαράσταση γενικών μηνυμάτων με χρονικές σημάνσεις.
- `CommandMessage` — επέκταση της `Message`, σχεδιασμένη για τη διαχείριση μηνυμάτων σε στυλ γραμμής εντολών με ορίσματα και επιλογές.
- `Command` — μια κλάση για τον ορισμό εντολών CLI με επιλογές και ορίσματα, παρόμοια με το `click` της Python.
- `CommandOption` — αναπαριστά μεμονωμένες επιλογές ή ορίσματα για μια εντολή.
- `CommandError` — προσαρμοσμένη κλάση σφαλμάτων για σφάλματα σχετικά με τις εντολές.
- `Contact` — αναλύει και αναπαριστά πληροφορίες επαφών με συγκεκριμένα σχήματα URI.

Αυτές οι κλάσεις είναι ιδανικές για τη δημιουργία αναλυτών, εργαλείων CLI, πρωτοκόλλων επικοινωνίας, επιπέδων επικύρωσης μηνυμάτων και διαχείρισης δεδομένων επαφών.

## Φιλοσοφία της Επικοινωνίας

Η αληθινή επικοινωνία ξεκινά με την κατανόηση και την αμοιβαία συντονισμό με τους άλλους. 

Εμπνευσμένη από αρχαία σοφία:
- **Ra** (Ήλιος, Φως) — αντιπροσωπεύει την ενέργεια και τη σαφήνεια που φέρνουμε
- **Zoom** (κίνηση, αλλαγή) — αντανακλά τη δυναμική φύση της ανταλλαγής
- **Om** (καθολικός ήχος, ενότητα) — συμβολίζει την αρμονία στην επικοινωνία

Αυτή η τριάδα σχηματίζει το θεμέλιο της ουσιαστικής αλληλεπίδρασης:
1. Στείλτε ένα σαφές μήνυμα (**Ra** - φως)
2. Επιτρέψτε χώρο για απάντηση (**Zoom** - κίνηση)  
3. Ακούστε με ανοιχτότητα (**Om** - ενότητα)

Κάθε συνομιλία μπορεί να δημιουργήσει είτε αμοιβαίο συντονισμό (αρμονία, κατανόηση) είτε αναρμονία (σύγκρουση, παρεξήγηση). Επιλέξτε τον αμοιβαίο συντονισμό και ανοίξτε ένα άπειρο σύμπαν δημιουργίας.

## Εγκατάσταση

```bash
npm install @nan0web/co
```

## Χρήση

### Βασικό Μήνυμα

```js
import { Message } from '@nan0web/co'

const msg = new Message('Γεια σου κόσμε')
console.log(msg.toString()) // 2023-04-01T10:00:00 Γεια σου κόσμε
```

### Μήνυμα Εντολής

```js
import { CommandMessage } from '@nan0web/co'

const cmd = new CommandMessage('git commit -m "Αρχική δέσμη ενεργειών" --verbose')
console.log(cmd.args) // ['git', 'commit']
console.log(cmd.opts) // { m: 'Αρχική δέσμη ενεργειών', verbose: true }
```

### Εντολή με Επιλογές και Ορίσματα

```js
import { Command } from '@nan0web/co'

const cmd = new Command({
  name: 'παράδειγμα',
  help: 'Μια εντολή παράδειγμα',
  options: {
    verbose: [Boolean, false, 'Ενεργοποίηση αναλυτικής εξόδου', { alias: 'v' }],
    file: [String, 'input.txt', 'Διαδρομή εισόδου αρχείου', { alias: 'f' }]
  },
  arguments: {
    name: [String, '', 'Όνομα του αντικειμένου προς επεξεργασία'],
    '*': [String, 'Πρόσθετα αντικείμενα']
  }
})

// Ανάλυση ορισμάτων γραμμής εντολών
const parsed = cmd.parse(['παράδειγμα', '--verbose', '--file', 'config.json', 'αντικείμενο1', 'αντικείμενο2'])
console.log(parsed.opts.verbose) // true
console.log(parsed.opts.file)    // 'config.json'
console.log(parsed.args)         // ['αντικείμενο1', 'αντικείμενο2']
```

### Διαχείριση Επαφών

```js
import { Contact } from '@nan0web/co'

// Δημιουργία απευθείας στιγμιότυπων
const email = new Contact({ type: Contact.EMAIL, value: "test@example.com" })
const phone = Contact.from("+123456") // Αυτόματη ανίχνευση ως τηλέφωνο
const address = Contact.parse("123")  // Αυτόματη ανίχνευση ως διεύθυνση

// Ανάλυση τύπων
console.log(email.toString()) // "mailto:test@example.com"
console.log(phone.toString()) // "tel:+123456"
console.log(address.toString()) // "address:123"

// Αυτόματη ανίχνευση από συμβολοσειρές
const github = Contact.parse("https://github.com") // Αυτόματη ανίχνευση ως URL
github // { type: Contact.URL, value: "https://github.com" }
```

### Προχωρημένος Ορισμός Επιλογών

Το `CommandOption` μπορεί να δημιουργηθεί με:

* **Σύνταξη με πίνακα** – `[όνομα, τύπος, προεπιλεγμένηΤιμή, βοήθεια, ψευδώνυμο?]`  
* **Σύνταξη με αντικείμενο** – `{ όνομα, τύπος, προεπιλεγμένηΤιμή, βοήθεια, ψευδώνυμο }`

Και οι δύο συντάξεις μετατρέπονται αυτόματα σε στιγμιότυπο `CommandOption`.

### Υποεντολές

Οι εντολές μπορούν να έχουν υποεντολές για τη δημιουργία ιεραρχικών εργαλείων CLI:

```js
import { Command } from '@nan0web/co'

const initCmd = new Command({
  name: 'init',
  help: 'Αρχικοποίηση νέου project',  
  arguments: {
    project: [String, '', 'Όνομα του project']
  }
})

const mainCmd = new Command({
  name: 'mycli',
  help: 'Το CLI εργαλείο μου',
  subcommands: [initCmd]
})  

// Ανάλυση με υποεντολή
const msg = mainCmd.parse(['init', 'my-project'])
console.log(msg.children[0].args) // ['my-project']
```

### Σφάλματα

Όλα τα σφάλματα ανάλυσης και μετατροπής εμφανίζονται ως `CommandError`. Το σφάλμα περιέχει ένα πεδίο `data` με πρόσθετο περιεχόμενο, π.χ.:

```js
try {
  cmd.parse(['παράδειγμα', '--count', 'abc']) 
} catch (err) {
  if (err instanceof CommandError) {
    console.error(err.message) // "Μη έγκυρος αριθμός για το count: abc"  
    console.error(err.data)    // { providedValue: 'abc' }
  }
}
```

## Ενσωματωμένες Δυνατότητες

### Σύστημα Εντολών

- `--help` / `-h` για εμφάνιση βοήθειας
- `--version` / `-V` για εμφάνιση έκδοσης  
- Εγγενής υποστήριξη για σύνθετους τύπους δεδομένων στα ορίσματα (μέσω στατικής μεθόδου `fromString`)
- Αυτόματη επικύρωση ορισμάτων και διαχείριση σφαλμάτων

### Ανάλυση Επαφών 

- Αυτόματη ανίχνευση και κανονικοποίηση email (π.χ. `test@example.com` → `mailto:test@example.com`)
- Ανίχνευση αριθμού τηλεφώνου (π.χ. `+1234567890`) 
- Ανάλυση επαφών social media (Facebook, Instagram, LinkedIn, Signal, Skype, Telegram, Viber, WhatsApp, X)
- Ανίχνευση και κανονικοποίηση URL
- Ανάλυση ταχυδρομικής διεύθυνσης ως εναλλακτική λύση
## Συνεισφορά

Δείτε το [CONTRIBUTING.md](../CONTRIBUTING.md)

## Άδεια

ISC — δείτε το [LICENSE](../LICENSE)
